var REACH={};REACH.Accordion=function(t){return{init:function(){t.fn.accordion&&t(".accordion").accordion({heightStyle:"content"})}}}(jQuery),REACH.Barometer=function(t){var n=t(".barometer"),e=function(n){var e=t(window).scrollTop(),a=e+t(window).height(),i=n.offset().top,o=i+n.height();return o>=e&&i<=a&&o<=a&&i>=e},a=function(t,n,e,a,i){var o,r=360/a*e,s=(90-r)*Math.PI/180,c=t+i*Math.cos(s),d=n-i*Math.sin(s);return o=a==e?[["M",t,n-i],["A",i,i,0,1,1,t-.01,n-i]]:[["M",t,n-i],["A",i,i,0,+(r>180),1,c,d]],{path:o}};return drawBarometer=function(t,n,e,a,i){i>0&&n.path().attr({stroke:t.data("progress-stroke"),"stroke-width":t.data("strokewidth")+1,arc:[e/2,a/2,0,100,e/2-8]}).animate({arc:[e/2,a/2,i,100,e/2-8]},1500,"easeInOut",function(){t.find("span").animate({opacity:1},300,"linear")})},initBarometer=function(n){var i,o=n.data("width"),r=n.data("height"),s=Raphael(n[0],o,r),c=!1,d=n.data("progress")>100?100:n.data("progress");s.customAttributes.arc=a,i=s.path().attr({stroke:n.data("stroke"),"stroke-width":n.data("strokewidth"),arc:[o/2,r/2,0,100,o/2-8]}),n.parent().addClass("barometer-added"),i.animate({arc:[o/2,r/2,100,100,o/2-8]},1e3,function(){0===d&&n.find("span").animate({opacity:1},500,"linear")}),e(n)?(drawBarometer(n,s,o,r,d),c=!0):t(window).scroll(function(){!1===c&&e(n)&&(drawBarometer(n,s,o,r,d),c=!0)})},{init:function(){n.each(function(){initBarometer(t(this))})},getBarometers:function(){return n}}}(jQuery),REACH.Countdown=function(t){var n=function(){var n=t(".countdown");return n.length&&n.countdown({until:t.countdown.UTCDate(REACH_CROWDFUNDING.timezone_offset,new Date(n.data().enddate)),format:"dHMS",labels:[REACH_CROWDFUNDING.years,REACH_CROWDFUNDING.months,REACH_CROWDFUNDING.weeks,REACH_CROWDFUNDING.days,REACH_CROWDFUNDING.hours,REACH_CROWDFUNDING.minutes,REACH_CROWDFUNDING.seconds],labels1:[REACH_CROWDFUNDING.year,REACH_CROWDFUNDING.month,REACH_CROWDFUNDING.week,REACH_CROWDFUNDING.day,REACH_CROWDFUNDING.hour,REACH_CROWDFUNDING.minute,REACH_CROWDFUNDING.second]}),n};return{init:function(){n()}}}(jQuery),REACH.Grid=function(t){var n=t(".campaign-grid"),e=function(t){t.masonry({itemSelector:".campaign",horizontalOrder:!0})};return{init:function(){t(window).width()>400&&n.each(function(){e(t(this))})},getGrids:function(){return n},resizeGrid:function(){n.each(function(){e(t(this))})}}}(jQuery),REACH.CrossBrowserPlaceholders=function(t){return{init:function(){var n=t(":text,textarea");if(n.length&&!("placeholder"in n.first()[0])){var e=document.activeElement;n.focus(function(){null!=t(this).attr("placeholder")&&(t(this).val(""),t(this).val()!==t(this).attr("placeholder")&&t(this).removeClass("hasPlaceholder"))}).blur(function(){null==t(this).attr("placeholder")||""!==t(this).val()&&t(this).val()!==t(this).attr("placeholder")||t(this).val(t(this).attr("placeholder")).addClass("hasPlaceholder")}),n.blur(),t(e).focus(),t("form").submit(function(){t(this).find(".hasPlaceholder").each(function(){t(this).val("")})})}}}}(jQuery),REACH.DropdownMenus=function(t){return{init:function(){t(".menu li").on("mouseover",function(){t(this).addClass("hovering")}).on("mouseout",function(){t(this).removeClass("hovering")})}}}(jQuery),REACH.FancySelect=function(t){return{init:function(){var n=t("select"),e=function(t){t.parent().css("display",t.css("display"))};return n.parent().hasClass("select-wrapper")?e:(n.wrap('<div class="select-wrapper" />').on("change",function(){e(t(this))}),n.each(function(){e(t(this))}),e)}}}(jQuery),REACH.Fitvids=function(t){return{init:function(){t(".fit-video, .video-player").fitVids()}}}(jQuery),REACH.HeaderLayout=function(t){return{init:function(){if(!(REACH_VARS.primary_navigation_offset.length||t(window).width()<800)){var n=t(".site-branding").outerHeight()-45,e=t(".site-branding").outerWidth()+1;(function(){var t=document.createElement("style");return t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet})().insertRule("@media screen and (min-width: 50em) { .site-navigation { margin-top:"+n+"px; max-width: -webkit-calc(100% - "+e+NaN+e+"px); max-width: calc(100% - "+e+"px);) } }",0),t.ajax({type:"POST",data:{action:"set_primary_navigation_offset",offset_t:n,offset_l:e},dataType:"json",url:REACH_VARS.ajaxurl,xhrFields:{withCredentials:!0},success:function(t){window.console&&window.console.log&&console.log(t)},error:function(t){window.console&&window.console.log&&console.log(t)}}).fail(function(t){window.console&&window.console.log&&console.log(t)})}}}}(jQuery),REACH.ImageHovers=function(t){return{init:function(){t(".on-hover").each(function(){var n=t(this).parent(),e=n.find("img");t(this).css({width:e.width(),left:e.position().left}),n.addClass("hover-parent").on("mouseover",function(){t(this).addClass("hovering")}).on("mouseout",function(){t(this).removeClass("hovering")})})}}}(jQuery),REACH.LeanModal=function(t){return{init:function(){t.fn.leanModal&&t("[data-trigger-modal]").leanModal({closeButton:".close-modal"})}}}(jQuery),REACH.ResponsiveMenu=function(t){return{init:function(){var n,e,a=t(".site-navigation"),i=t(".account-links");a&&(n=a.find(".menu-toggle"))&&(i.length&&a.find(".menu-site").append('<div class="account-links">'+i.html()+"</div>"),(e=a.find("ul"))?(e.attr("aria-expanded","false"),e.hasClass("nav-menu")||e.addClass("nav-menu"),n.on("click",function(){a.hasClass("toggled")?(a.removeClass("toggled"),n.attr("aria-expanded","false"),e.attr("aria-expanded","false")):(a.addClass("toggled"),n.attr("aria-expanded","true"),e.attr("aria-expanded","true"))})):n.hide())}}}(jQuery),REACH.SidebarPositioning=function(t){return{init:function(){var n=t("body").outerWidth(),e=t(".banner"),a=t("#secondary");e.length&&a.length&&(n<785?a[0].style.marginTop="":a.css("marginTop",e.outerHeight()))}}}(jQuery),REACH.SkipLinkFocusFix=function(){var t=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,n=navigator.userAgent.toLowerCase().indexOf("opera")>-1,e=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(t||n||e)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t=document.getElementById(location.hash.substring(1));t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1)}();